@page
@model Weather_Monitor.Pages.Weather.IndexModel
@{
    
	/*var dateNo1w = new DateTime(DateTime.Now.Ticks - (DateTime.Now.Ticks % TimeSpan.TicksPerSecond), DateTimeKind.Unspecified);
	var dateNow = new DateTime(DateTime.Now.Year, DateTime.Now.Month, DateTime.Now.Day, DateTime.Now.Hour, DateTime.Now.Minute, DateTime.Now.Second, DateTimeKind.Unspecified);
	var dateAWeekAgo = dateNow.AddDays(-7);*/

}

<div class="text-center">
    <div>
        <h1>
            Measurements
        </h1>

    </div>

    <form metod="POST">
        <div>
            <label class="control-label">Select filter type</label>
            <select name="filters" class="form-control form-select" asp-for="SelectedListItemId" asp-items="Model.listItems">
            </select>
        </div>
        <div>
            <div>
                <input type="radio" id="alltime" name="time" checked="checked" />All
                <input type="radio" id="timerange" name="time" />Choose time range
            </div>

            <label class="control-label">From</label>
            <input name="from" class="form-control" asp-format="{0:yyyy-MM-ddTHH:mm}" type="datetime-local" asp-for="From" id="From" disabled="disabled" />

            <label class="control-label">To</label>
            <input name="to" class="form-control" asp-format="{0:yyyy-MM-ddTHH:mm}" type="datetime-local" asp-for="To" id="To" disabled="disabled" />
        </div>
        <div>
            <button type="submit">Filter</button>
        </div>
    </form>
    
    @switch (Model.SelectedListItemId)
    {
        case 0:
            <partial name="TableDisplay/_All" model="Model.weatherDatas" />
            break;
        case 1:
            <partial name="TableDisplay/_Indoor" model="Model.weatherDatas" />
            break;
        case 2:
            <partial name="TableDisplay/_Outdoor" model="Model.weatherDatas" />
            break;
        case 3:
            <partial name="TableDisplay/_AverageTemp" model="Model.weatherDatas" />
            break;
        default:
            <partial name="TableDisplay/_All" model="Model.weatherDatas" />
            break;
    }
    
    <br />
    




</div>

<script>
    let timeFrom = document.querySelector("#From");
    let timeTo = document.querySelector("#To");
    let timeAll = document.querySelector("#alltime");
    let timeRange = document.querySelector("#timerange");

    timeAll.addEventListener('click', () => {
        timeFrom.disabled = true;
        timeTo.disabled = true;
    });

    timeRange.addEventListener('click', () => {
        timeFrom.disabled = false;
        timeTo.disabled = false;
    });

</script>